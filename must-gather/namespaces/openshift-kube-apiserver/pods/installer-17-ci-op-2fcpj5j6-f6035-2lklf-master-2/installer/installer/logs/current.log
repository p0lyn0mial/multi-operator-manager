2024-10-24T14:34:19.501213025Z I1024 14:34:19.412739       1 cmd.go:91] &{<nil> true {false} installer true map[cert-configmaps:0xc000a8b2c0 cert-dir:0xc000a8b4a0 cert-secrets:0xc000a8b220 configmaps:0xc000a8adc0 namespace:0xc000a8abe0 optional-cert-configmaps:0xc000a8b400 optional-cert-secrets:0xc000a8b360 optional-configmaps:0xc000a8af00 optional-secrets:0xc000a8ae60 pod:0xc000a8ac80 pod-manifest-dir:0xc000a8b040 resource-dir:0xc000a8afa0 revision:0xc000a8ab40 secrets:0xc000a8ad20 v:0xc000a9a960] [0xc000a9a960 0xc000a8ab40 0xc000a8abe0 0xc000a8ac80 0xc000a8afa0 0xc000a8b040 0xc000a8adc0 0xc000a8af00 0xc000a8ad20 0xc000a8ae60 0xc000a8b4a0 0xc000a8b2c0 0xc000a8b400 0xc000a8b220 0xc000a8b360] [] map[cert-configmaps:0xc000a8b2c0 cert-dir:0xc000a8b4a0 cert-secrets:0xc000a8b220 configmaps:0xc000a8adc0 help:0xc000a9ad20 kubeconfig:0xc000a8aaa0 log-flush-frequency:0xc000a9a8c0 namespace:0xc000a8abe0 optional-cert-configmaps:0xc000a8b400 optional-cert-secrets:0xc000a8b360 optional-configmaps:0xc000a8af00 optional-secrets:0xc000a8ae60 pod:0xc000a8ac80 pod-manifest-dir:0xc000a8b040 pod-manifests-lock-file:0xc000a8b180 resource-dir:0xc000a8afa0 revision:0xc000a8ab40 secrets:0xc000a8ad20 timeout-duration:0xc000a8b0e0 v:0xc000a9a960 vmodule:0xc000a9aa00] [0xc000a8aaa0 0xc000a8ab40 0xc000a8abe0 0xc000a8ac80 0xc000a8ad20 0xc000a8adc0 0xc000a8ae60 0xc000a8af00 0xc000a8afa0 0xc000a8b040 0xc000a8b0e0 0xc000a8b180 0xc000a8b220 0xc000a8b2c0 0xc000a8b360 0xc000a8b400 0xc000a8b4a0 0xc000a9a8c0 0xc000a9a960 0xc000a9aa00 0xc000a9ad20] [0xc000a8b2c0 0xc000a8b4a0 0xc000a8b220 0xc000a8adc0 0xc000a9ad20 0xc000a8aaa0 0xc000a9a8c0 0xc000a8abe0 0xc000a8b400 0xc000a8b360 0xc000a8af00 0xc000a8ae60 0xc000a8ac80 0xc000a8b040 0xc000a8b180 0xc000a8afa0 0xc000a8ab40 0xc000a8ad20 0xc000a8b0e0 0xc000a9a960 0xc000a9aa00] map[104:0xc000a9ad20 118:0xc000a9a960] [] -1 0 0xc000687050 true 0xae1ae0 []}
2024-10-24T14:34:19.501400875Z I1024 14:34:19.501257       1 cmd.go:92] (*installerpod.InstallOptions)(0xc000a86340)({
2024-10-24T14:34:19.501400875Z  KubeConfig: (string) "",
2024-10-24T14:34:19.501400875Z  KubeClient: (kubernetes.Interface) <nil>,
2024-10-24T14:34:19.501400875Z  Revision: (string) (len=2) "17",
2024-10-24T14:34:19.501400875Z  NodeName: (string) "",
2024-10-24T14:34:19.501400875Z  Namespace: (string) (len=24) "openshift-kube-apiserver",
2024-10-24T14:34:19.501400875Z  PodConfigMapNamePrefix: (string) (len=18) "kube-apiserver-pod",
2024-10-24T14:34:19.501400875Z  SecretNamePrefixes: ([]string) (len=3 cap=4) {
2024-10-24T14:34:19.501400875Z   (string) (len=11) "etcd-client",
2024-10-24T14:34:19.501400875Z   (string) (len=34) "localhost-recovery-serving-certkey",
2024-10-24T14:34:19.501400875Z   (string) (len=31) "localhost-recovery-client-token"
2024-10-24T14:34:19.501400875Z  },
2024-10-24T14:34:19.501400875Z  OptionalSecretNamePrefixes: ([]string) (len=2 cap=2) {
2024-10-24T14:34:19.501400875Z   (string) (len=17) "encryption-config",
2024-10-24T14:34:19.501400875Z   (string) (len=21) "webhook-authenticator"
2024-10-24T14:34:19.501400875Z  },
2024-10-24T14:34:19.501400875Z  ConfigMapNamePrefixes: ([]string) (len=8 cap=8) {
2024-10-24T14:34:19.501400875Z   (string) (len=18) "kube-apiserver-pod",
2024-10-24T14:34:19.501400875Z   (string) (len=6) "config",
2024-10-24T14:34:19.501400875Z   (string) (len=37) "kube-apiserver-cert-syncer-kubeconfig",
2024-10-24T14:34:19.501400875Z   (string) (len=28) "bound-sa-token-signing-certs",
2024-10-24T14:34:19.501400875Z   (string) (len=15) "etcd-serving-ca",
2024-10-24T14:34:19.501400875Z   (string) (len=18) "kubelet-serving-ca",
2024-10-24T14:34:19.501400875Z   (string) (len=22) "sa-token-signing-certs",
2024-10-24T14:34:19.501400875Z   (string) (len=29) "kube-apiserver-audit-policies"
2024-10-24T14:34:19.501400875Z  },
2024-10-24T14:34:19.501400875Z  OptionalConfigMapNamePrefixes: ([]string) (len=3 cap=4) {
2024-10-24T14:34:19.501400875Z   (string) (len=14) "oauth-metadata",
2024-10-24T14:34:19.501400875Z   (string) (len=12) "cloud-config",
2024-10-24T14:34:19.501400875Z   (string) (len=24) "kube-apiserver-server-ca"
2024-10-24T14:34:19.501400875Z  },
2024-10-24T14:34:19.501400875Z  CertSecretNames: ([]string) (len=10 cap=16) {
2024-10-24T14:34:19.501400875Z   (string) (len=17) "aggregator-client",
2024-10-24T14:34:19.501400875Z   (string) (len=30) "localhost-serving-cert-certkey",
2024-10-24T14:34:19.501400875Z   (string) (len=31) "service-network-serving-certkey",
2024-10-24T14:34:19.501400875Z   (string) (len=37) "external-loadbalancer-serving-certkey",
2024-10-24T14:34:19.501400875Z   (string) (len=37) "internal-loadbalancer-serving-certkey",
2024-10-24T14:34:19.501400875Z   (string) (len=33) "bound-service-account-signing-key",
2024-10-24T14:34:19.501400875Z   (string) (len=40) "control-plane-node-admin-client-cert-key",
2024-10-24T14:34:19.501400875Z   (string) (len=31) "check-endpoints-client-cert-key",
2024-10-24T14:34:19.501400875Z   (string) (len=14) "kubelet-client",
2024-10-24T14:34:19.501400875Z   (string) (len=16) "node-kubeconfigs"
2024-10-24T14:34:19.501400875Z  },
2024-10-24T14:34:19.501400875Z  OptionalCertSecretNamePrefixes: ([]string) (len=11 cap=16) {
2024-10-24T14:34:19.501400875Z   (string) (len=17) "user-serving-cert",
2024-10-24T14:34:19.501400875Z   (string) (len=21) "user-serving-cert-000",
2024-10-24T14:34:19.501400875Z   (string) (len=21) "user-serving-cert-001",
2024-10-24T14:34:19.501400875Z   (string) (len=21) "user-serving-cert-002",
2024-10-24T14:34:19.501400875Z   (string) (len=21) "user-serving-cert-003",
2024-10-24T14:34:19.501400875Z   (string) (len=21) "user-serving-cert-004",
2024-10-24T14:34:19.501400875Z   (string) (len=21) "user-serving-cert-005",
2024-10-24T14:34:19.501400875Z   (string) (len=21) "user-serving-cert-006",
2024-10-24T14:34:19.501400875Z   (string) (len=21) "user-serving-cert-007",
2024-10-24T14:34:19.501400875Z   (string) (len=21) "user-serving-cert-008",
2024-10-24T14:34:19.501400875Z   (string) (len=21) "user-serving-cert-009"
2024-10-24T14:34:19.501400875Z  },
2024-10-24T14:34:19.501400875Z  CertConfigMapNamePrefixes: ([]string) (len=4 cap=4) {
2024-10-24T14:34:19.501400875Z   (string) (len=20) "aggregator-client-ca",
2024-10-24T14:34:19.501400875Z   (string) (len=9) "client-ca",
2024-10-24T14:34:19.501400875Z   (string) (len=29) "control-plane-node-kubeconfig",
2024-10-24T14:34:19.501400875Z   (string) (len=26) "check-endpoints-kubeconfig"
2024-10-24T14:34:19.501400875Z  },
2024-10-24T14:34:19.501400875Z  OptionalCertConfigMapNamePrefixes: ([]string) (len=1 cap=1) {
2024-10-24T14:34:19.501400875Z   (string) (len=17) "trusted-ca-bundle"
2024-10-24T14:34:19.501400875Z  },
2024-10-24T14:34:19.501400875Z  CertDir: (string) (len=57) "/etc/kubernetes/static-pod-resources/kube-apiserver-certs",
2024-10-24T14:34:19.501400875Z  ResourceDir: (string) (len=36) "/etc/kubernetes/static-pod-resources",
2024-10-24T14:34:19.501400875Z  PodManifestDir: (string) (len=25) "/etc/kubernetes/manifests",
2024-10-24T14:34:19.501400875Z  Timeout: (time.Duration) 2m0s,
2024-10-24T14:34:19.501400875Z  StaticPodManifestsLockFile: (string) "",
2024-10-24T14:34:19.501400875Z  PodMutationFns: ([]installerpod.PodMutationFunc) <nil>,
2024-10-24T14:34:19.501400875Z  KubeletVersion: (string) ""
2024-10-24T14:34:19.501400875Z })
2024-10-24T14:34:19.503394805Z I1024 14:34:19.503344       1 cmd.go:409] Getting controller reference for node ci-op-2fcpj5j6-f6035-2lklf-master-2
2024-10-24T14:34:19.523188845Z I1024 14:34:19.523075       1 cmd.go:422] Waiting for installer revisions to settle for node ci-op-2fcpj5j6-f6035-2lklf-master-2
2024-10-24T14:34:19.523188845Z I1024 14:34:19.523150       1 envvar.go:172] "Feature gate default state" feature="WatchListClient" enabled=false
2024-10-24T14:34:19.523188845Z I1024 14:34:19.523162       1 envvar.go:172] "Feature gate default state" feature="InformerResourceVersion" enabled=false
2024-10-24T14:34:19.535415564Z I1024 14:34:19.535308       1 cmd.go:514] Waiting additional period after revisions have settled for node ci-op-2fcpj5j6-f6035-2lklf-master-2
2024-10-24T14:34:49.535584639Z I1024 14:34:49.535474       1 cmd.go:520] Getting installer pods for node ci-op-2fcpj5j6-f6035-2lklf-master-2
2024-10-24T14:34:49.548636309Z I1024 14:34:49.548550       1 cmd.go:538] Latest installer revision for node ci-op-2fcpj5j6-f6035-2lklf-master-2 is: 17
2024-10-24T14:34:49.548636309Z I1024 14:34:49.548581       1 cmd.go:427] Querying kubelet version for node ci-op-2fcpj5j6-f6035-2lklf-master-2
2024-10-24T14:34:49.557373139Z I1024 14:34:49.557300       1 cmd.go:440] Got kubelet version 1.31.1 on target node ci-op-2fcpj5j6-f6035-2lklf-master-2
2024-10-24T14:34:49.557373139Z I1024 14:34:49.557339       1 cmd.go:289] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17" ...
2024-10-24T14:34:49.557562449Z I1024 14:34:49.557538       1 cmd.go:217] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17" ...
2024-10-24T14:34:49.557562449Z I1024 14:34:49.557558       1 cmd.go:225] Getting secrets ...
2024-10-24T14:34:49.565409069Z I1024 14:34:49.565340       1 copy.go:32] Got secret openshift-kube-apiserver/etcd-client-17
2024-10-24T14:34:49.574967399Z I1024 14:34:49.574835       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-recovery-client-token-17
2024-10-24T14:34:49.582991529Z I1024 14:34:49.582917       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-recovery-serving-certkey-17
2024-10-24T14:34:49.590373918Z I1024 14:34:49.590297       1 copy.go:32] Got secret openshift-kube-apiserver/encryption-config-17
2024-10-24T14:34:49.598051058Z I1024 14:34:49.597972       1 copy.go:32] Got secret openshift-kube-apiserver/webhook-authenticator-17
2024-10-24T14:34:49.598051058Z I1024 14:34:49.598019       1 cmd.go:238] Getting config maps ...
2024-10-24T14:34:49.605488678Z I1024 14:34:49.605381       1 copy.go:60] Got configMap openshift-kube-apiserver/bound-sa-token-signing-certs-17
2024-10-24T14:34:49.613770228Z I1024 14:34:49.613648       1 copy.go:60] Got configMap openshift-kube-apiserver/config-17
2024-10-24T14:34:49.620760248Z I1024 14:34:49.620616       1 copy.go:60] Got configMap openshift-kube-apiserver/etcd-serving-ca-17
2024-10-24T14:34:49.744551468Z I1024 14:34:49.744468       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-audit-policies-17
2024-10-24T14:34:49.944316537Z I1024 14:34:49.944256       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-cert-syncer-kubeconfig-17
2024-10-24T14:34:50.143782936Z I1024 14:34:50.143518       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-pod-17
2024-10-24T14:34:50.342610135Z I1024 14:34:50.342541       1 copy.go:60] Got configMap openshift-kube-apiserver/kubelet-serving-ca-17
2024-10-24T14:34:50.543203824Z I1024 14:34:50.543124       1 copy.go:60] Got configMap openshift-kube-apiserver/sa-token-signing-certs-17
2024-10-24T14:34:50.746022972Z I1024 14:34:50.745939       1 copy.go:52] Failed to get config map openshift-kube-apiserver/cloud-config-17: configmaps "cloud-config-17" not found
2024-10-24T14:34:50.943760332Z I1024 14:34:50.943674       1 copy.go:60] Got configMap openshift-kube-apiserver/kube-apiserver-server-ca-17
2024-10-24T14:34:51.143802221Z I1024 14:34:51.143667       1 copy.go:60] Got configMap openshift-kube-apiserver/oauth-metadata-17
2024-10-24T14:34:51.143802221Z I1024 14:34:51.143718       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/etcd-client" ...
2024-10-24T14:34:51.144024760Z I1024 14:34:51.143977       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/etcd-client/tls.crt" ...
2024-10-24T14:34:51.144271891Z I1024 14:34:51.144168       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/etcd-client/tls.key" ...
2024-10-24T14:34:51.144332110Z I1024 14:34:51.144305       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/localhost-recovery-client-token" ...
2024-10-24T14:34:51.144421330Z I1024 14:34:51.144369       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/localhost-recovery-client-token/ca.crt" ...
2024-10-24T14:34:51.144516790Z I1024 14:34:51.144497       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/localhost-recovery-client-token/namespace" ...
2024-10-24T14:34:51.144622390Z I1024 14:34:51.144602       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/localhost-recovery-client-token/service-ca.crt" ...
2024-10-24T14:34:51.145652801Z I1024 14:34:51.145617       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/localhost-recovery-client-token/token" ...
2024-10-24T14:34:51.145783330Z I1024 14:34:51.145743       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/localhost-recovery-serving-certkey" ...
2024-10-24T14:34:51.145855310Z I1024 14:34:51.145831       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/localhost-recovery-serving-certkey/tls.crt" ...
2024-10-24T14:34:51.146182351Z I1024 14:34:51.146123       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/localhost-recovery-serving-certkey/tls.key" ...
2024-10-24T14:34:51.146291700Z I1024 14:34:51.146258       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/encryption-config" ...
2024-10-24T14:34:51.146384291Z I1024 14:34:51.146350       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/encryption-config/encryption-config" ...
2024-10-24T14:34:51.146504931Z I1024 14:34:51.146472       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/webhook-authenticator" ...
2024-10-24T14:34:51.146562990Z I1024 14:34:51.146540       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/secrets/webhook-authenticator/kubeConfig" ...
2024-10-24T14:34:51.146687850Z I1024 14:34:51.146654       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/bound-sa-token-signing-certs" ...
2024-10-24T14:34:51.146801841Z I1024 14:34:51.146770       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/bound-sa-token-signing-certs/service-account-001.pub" ...
2024-10-24T14:34:51.147014550Z I1024 14:34:51.146977       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/config" ...
2024-10-24T14:34:51.147074750Z I1024 14:34:51.147052       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/config/config.yaml" ...
2024-10-24T14:34:51.147223251Z I1024 14:34:51.147190       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/etcd-serving-ca" ...
2024-10-24T14:34:51.147285351Z I1024 14:34:51.147263       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2024-10-24T14:34:51.147400971Z I1024 14:34:51.147377       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/kube-apiserver-audit-policies" ...
2024-10-24T14:34:51.147481431Z I1024 14:34:51.147444       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/kube-apiserver-audit-policies/policy.yaml" ...
2024-10-24T14:34:51.147585471Z I1024 14:34:51.147555       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/kube-apiserver-cert-syncer-kubeconfig" ...
2024-10-24T14:34:51.147756391Z I1024 14:34:51.147617       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig" ...
2024-10-24T14:34:51.147756391Z I1024 14:34:51.147738       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/kube-apiserver-pod" ...
2024-10-24T14:34:51.147801630Z I1024 14:34:51.147791       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/kube-apiserver-pod/pod.yaml" ...
2024-10-24T14:34:51.147971550Z I1024 14:34:51.147931       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/kube-apiserver-pod/version" ...
2024-10-24T14:34:51.148092210Z I1024 14:34:51.148037       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/kube-apiserver-pod/forceRedeploymentReason" ...
2024-10-24T14:34:51.148218090Z I1024 14:34:51.148176       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/kubelet-serving-ca" ...
2024-10-24T14:34:51.148327771Z I1024 14:34:51.148287       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/kubelet-serving-ca/ca-bundle.crt" ...
2024-10-24T14:34:51.148460320Z I1024 14:34:51.148427       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/sa-token-signing-certs" ...
2024-10-24T14:34:51.148614500Z I1024 14:34:51.148562       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/sa-token-signing-certs/service-account-002.pub" ...
2024-10-24T14:34:51.148726991Z I1024 14:34:51.148687       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/sa-token-signing-certs/service-account-001.pub" ...
2024-10-24T14:34:51.148919621Z I1024 14:34:51.148897       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/kube-apiserver-server-ca" ...
2024-10-24T14:34:51.149056490Z I1024 14:34:51.149022       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/kube-apiserver-server-ca/ca-bundle.crt" ...
2024-10-24T14:34:51.149179930Z I1024 14:34:51.149154       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/oauth-metadata" ...
2024-10-24T14:34:51.149247790Z I1024 14:34:51.149221       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/configmaps/oauth-metadata/oauthMetadata" ...
2024-10-24T14:34:51.149431211Z I1024 14:34:51.149397       1 cmd.go:217] Creating target resource directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs" ...
2024-10-24T14:34:51.149431211Z I1024 14:34:51.149418       1 cmd.go:225] Getting secrets ...
2024-10-24T14:34:51.343186179Z I1024 14:34:51.343107       1 copy.go:32] Got secret openshift-kube-apiserver/aggregator-client
2024-10-24T14:34:51.545337958Z I1024 14:34:51.545271       1 copy.go:32] Got secret openshift-kube-apiserver/bound-service-account-signing-key
2024-10-24T14:34:51.742979817Z I1024 14:34:51.742914       1 copy.go:32] Got secret openshift-kube-apiserver/check-endpoints-client-cert-key
2024-10-24T14:34:51.944462726Z I1024 14:34:51.944339       1 copy.go:32] Got secret openshift-kube-apiserver/control-plane-node-admin-client-cert-key
2024-10-24T14:34:52.144658465Z I1024 14:34:52.144553       1 copy.go:32] Got secret openshift-kube-apiserver/external-loadbalancer-serving-certkey
2024-10-24T14:34:52.344450524Z I1024 14:34:52.344365       1 copy.go:32] Got secret openshift-kube-apiserver/internal-loadbalancer-serving-certkey
2024-10-24T14:34:52.542306993Z I1024 14:34:52.542204       1 copy.go:32] Got secret openshift-kube-apiserver/kubelet-client
2024-10-24T14:34:52.743863372Z I1024 14:34:52.743766       1 copy.go:32] Got secret openshift-kube-apiserver/localhost-serving-cert-certkey
2024-10-24T14:34:52.944513751Z I1024 14:34:52.944393       1 copy.go:32] Got secret openshift-kube-apiserver/node-kubeconfigs
2024-10-24T14:34:53.144260740Z I1024 14:34:53.144128       1 copy.go:32] Got secret openshift-kube-apiserver/service-network-serving-certkey
2024-10-24T14:34:53.342976719Z I1024 14:34:53.342885       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert: secrets "user-serving-cert" not found
2024-10-24T14:34:53.545431338Z I1024 14:34:53.545331       1 copy.go:32] Got secret openshift-kube-apiserver/user-serving-cert-000
2024-10-24T14:34:53.743443527Z I1024 14:34:53.743356       1 copy.go:32] Got secret openshift-kube-apiserver/user-serving-cert-001
2024-10-24T14:34:53.943268776Z I1024 14:34:53.943191       1 copy.go:32] Got secret openshift-kube-apiserver/user-serving-cert-002
2024-10-24T14:34:54.144771515Z I1024 14:34:54.144626       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-003: secrets "user-serving-cert-003" not found
2024-10-24T14:34:54.343147074Z I1024 14:34:54.342940       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-004: secrets "user-serving-cert-004" not found
2024-10-24T14:34:54.544453203Z I1024 14:34:54.544347       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-005: secrets "user-serving-cert-005" not found
2024-10-24T14:34:54.743653182Z I1024 14:34:54.743513       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-006: secrets "user-serving-cert-006" not found
2024-10-24T14:34:54.944098411Z I1024 14:34:54.944035       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-007: secrets "user-serving-cert-007" not found
2024-10-24T14:34:55.144780310Z I1024 14:34:55.144699       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-008: secrets "user-serving-cert-008" not found
2024-10-24T14:34:55.343410589Z I1024 14:34:55.343275       1 copy.go:24] Failed to get secret openshift-kube-apiserver/user-serving-cert-009: secrets "user-serving-cert-009" not found
2024-10-24T14:34:55.343410589Z I1024 14:34:55.343314       1 cmd.go:238] Getting config maps ...
2024-10-24T14:34:55.542984968Z I1024 14:34:55.542926       1 copy.go:60] Got configMap openshift-kube-apiserver/aggregator-client-ca
2024-10-24T14:34:55.745724877Z I1024 14:34:55.745639       1 copy.go:60] Got configMap openshift-kube-apiserver/check-endpoints-kubeconfig
2024-10-24T14:34:55.943494296Z I1024 14:34:55.943432       1 copy.go:60] Got configMap openshift-kube-apiserver/client-ca
2024-10-24T14:34:56.144020085Z I1024 14:34:56.143930       1 copy.go:60] Got configMap openshift-kube-apiserver/control-plane-node-kubeconfig
2024-10-24T14:34:56.355973633Z I1024 14:34:56.355804       1 copy.go:60] Got configMap openshift-kube-apiserver/trusted-ca-bundle
2024-10-24T14:34:56.356440414Z I1024 14:34:56.356365       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client" ...
2024-10-24T14:34:56.356440414Z I1024 14:34:56.356413       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client/tls.key" ...
2024-10-24T14:34:56.356747533Z I1024 14:34:56.356693       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/aggregator-client/tls.crt" ...
2024-10-24T14:34:56.357085593Z I1024 14:34:56.357033       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key" ...
2024-10-24T14:34:56.357085593Z I1024 14:34:56.357059       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key/service-account.key" ...
2024-10-24T14:34:56.357232944Z I1024 14:34:56.357204       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/bound-service-account-signing-key/service-account.pub" ...
2024-10-24T14:34:56.357401423Z I1024 14:34:56.357339       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key" ...
2024-10-24T14:34:56.357401423Z I1024 14:34:56.357363       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key/tls.crt" ...
2024-10-24T14:34:56.357543263Z I1024 14:34:56.357490       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/check-endpoints-client-cert-key/tls.key" ...
2024-10-24T14:34:56.357663294Z I1024 14:34:56.357622       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key" ...
2024-10-24T14:34:56.357663294Z I1024 14:34:56.357644       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key/tls.key" ...
2024-10-24T14:34:56.357786914Z I1024 14:34:56.357747       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/control-plane-node-admin-client-cert-key/tls.crt" ...
2024-10-24T14:34:56.357967664Z I1024 14:34:56.357883       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey" ...
2024-10-24T14:34:56.357967664Z I1024 14:34:56.357913       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey/tls.crt" ...
2024-10-24T14:34:56.358104913Z I1024 14:34:56.358073       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/external-loadbalancer-serving-certkey/tls.key" ...
2024-10-24T14:34:56.358580983Z I1024 14:34:56.358530       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey" ...
2024-10-24T14:34:56.358606114Z I1024 14:34:56.358581       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey/tls.key" ...
2024-10-24T14:34:56.358805643Z I1024 14:34:56.358773       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/internal-loadbalancer-serving-certkey/tls.crt" ...
2024-10-24T14:34:56.358982933Z I1024 14:34:56.358946       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client" ...
2024-10-24T14:34:56.359077384Z I1024 14:34:56.359036       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client/tls.crt" ...
2024-10-24T14:34:56.359260473Z I1024 14:34:56.359229       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/kubelet-client/tls.key" ...
2024-10-24T14:34:56.359409073Z I1024 14:34:56.359359       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey" ...
2024-10-24T14:34:56.359409073Z I1024 14:34:56.359382       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey/tls.crt" ...
2024-10-24T14:34:56.359596424Z I1024 14:34:56.359565       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/localhost-serving-cert-certkey/tls.key" ...
2024-10-24T14:34:56.359897614Z I1024 14:34:56.359796       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs" ...
2024-10-24T14:34:56.359897614Z I1024 14:34:56.359840       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/localhost-recovery.kubeconfig" ...
2024-10-24T14:34:56.360008584Z I1024 14:34:56.359986       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/localhost.kubeconfig" ...
2024-10-24T14:34:56.360211893Z I1024 14:34:56.360173       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/lb-ext.kubeconfig" ...
2024-10-24T14:34:56.360332304Z I1024 14:34:56.360308       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/node-kubeconfigs/lb-int.kubeconfig" ...
2024-10-24T14:34:56.360463424Z I1024 14:34:56.360439       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey" ...
2024-10-24T14:34:56.360484853Z I1024 14:34:56.360460       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey/tls.crt" ...
2024-10-24T14:34:56.360645824Z I1024 14:34:56.360609       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/service-network-serving-certkey/tls.key" ...
2024-10-24T14:34:56.360791974Z I1024 14:34:56.360767       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/user-serving-cert-000" ...
2024-10-24T14:34:56.360881414Z I1024 14:34:56.360860       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/user-serving-cert-000/tls.crt" ...
2024-10-24T14:34:56.361109654Z I1024 14:34:56.361051       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/user-serving-cert-000/tls.key" ...
2024-10-24T14:34:56.361221753Z I1024 14:34:56.361185       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/user-serving-cert-001" ...
2024-10-24T14:34:56.361221753Z I1024 14:34:56.361208       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/user-serving-cert-001/tls.crt" ...
2024-10-24T14:34:56.361781774Z I1024 14:34:56.361738       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/user-serving-cert-001/tls.key" ...
2024-10-24T14:34:56.401090073Z I1024 14:34:56.400927       1 cmd.go:257] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/user-serving-cert-002" ...
2024-10-24T14:34:56.401090073Z I1024 14:34:56.400970       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/user-serving-cert-002/tls.crt" ...
2024-10-24T14:34:56.401181783Z I1024 14:34:56.401165       1 cmd.go:635] Writing secret manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/secrets/user-serving-cert-002/tls.key" ...
2024-10-24T14:34:56.401351483Z I1024 14:34:56.401297       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/aggregator-client-ca" ...
2024-10-24T14:34:56.401351483Z I1024 14:34:56.401330       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/aggregator-client-ca/ca-bundle.crt" ...
2024-10-24T14:34:56.401525573Z I1024 14:34:56.401502       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/check-endpoints-kubeconfig" ...
2024-10-24T14:34:56.401587373Z I1024 14:34:56.401569       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/check-endpoints-kubeconfig/kubeconfig" ...
2024-10-24T14:34:56.401794493Z I1024 14:34:56.401740       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/client-ca" ...
2024-10-24T14:34:56.401794493Z I1024 14:34:56.401770       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/client-ca/ca-bundle.crt" ...
2024-10-24T14:34:56.401993574Z I1024 14:34:56.401963       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/control-plane-node-kubeconfig" ...
2024-10-24T14:34:56.402063853Z I1024 14:34:56.402043       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/control-plane-node-kubeconfig/kubeconfig" ...
2024-10-24T14:34:56.402249263Z I1024 14:34:56.402216       1 cmd.go:273] Creating directory "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/trusted-ca-bundle" ...
2024-10-24T14:34:56.402277373Z I1024 14:34:56.402269       1 cmd.go:625] Writing config file "/etc/kubernetes/static-pod-resources/kube-apiserver-certs/configmaps/trusted-ca-bundle/ca-bundle.crt" ...
2024-10-24T14:34:56.402889713Z I1024 14:34:56.402808       1 cmd.go:331] Getting pod configmaps/kube-apiserver-pod-17 -n openshift-kube-apiserver
2024-10-24T14:34:56.544967082Z I1024 14:34:56.544872       1 cmd.go:347] Creating directory for static pod manifest "/etc/kubernetes/manifests" ...
2024-10-24T14:34:56.544967082Z I1024 14:34:56.544931       1 cmd.go:375] Writing a pod under "kube-apiserver-pod.yaml" key 
2024-10-24T14:34:56.544967082Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"kube-apiserver","namespace":"openshift-kube-apiserver","creationTimestamp":null,"labels":{"apiserver":"true","app":"openshift-kube-apiserver","revision":"17"},"annotations":{"kubectl.kubernetes.io/default-container":"kube-apiserver","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-certs"}},{"name":"audit-dir","hostPath":{"path":"/var/log/kube-apiserver"}}],"initContainers":[{"name":"setup","image":"registry.build02.ci.openshift.org/ci-op-2fcpj5j6/stable@sha256:ec5ef6dda3c256bf641cce01c338f9e7ef0e2bf8821e90809d4e18fdc6759989","command":["/usr/bin/timeout","220","/bin/bash","-ec"],"args":["echo \"Fixing audit permissions ...\"\nchmod 0700 /var/log/kube-apiserver \u0026\u0026 touch /var/log/kube-apiserver/audit.log \u0026\u0026 chmod 0600 /var/log/kube-apiserver/*\n\nLOCK=/var/log/kube-apiserver/.lock\necho \"Acquiring exclusive lock ${LOCK} ...\"\n\n# Waiting for 135s max for old kube-apiserver's watch-termination process to exit and remove the lock.\n# Two cases:\n# 1. if kubelet does not start the old and new in parallel (i.e. works as expected), the flock will always succeed without any time.\n# 2. if kubelet does overlap old and new pods for up to 130s, the flock will wait and immediate return when the old finishes.\n#\n# NOTE: We can increase 135s for a bigger expected overlap. But a higher value means less noise about the broken kubelet behaviour, i.e. we hide a bug.\n# NOTE: Do not tweak these timings without considering the livenessProbe initialDelaySeconds\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 135 \"${LOCK_FD}\" || {\n  echo \"$(date -Iseconds -u) kubelet did not terminate old kube-apiserver before new one\" \u003e\u003e /var/log/kube-apiserver/lock.log\n  echo -n \": WARNING: kubelet did not terminate old kube-apiserver before new one.\"\n\n  # We failed to acquire exclusive lock, which means there is old kube-apiserver running in system.\n  # Since we utilize SO_REUSEPORT, we need to make sure the old kube-apiserver stopped listening.\n  #\n  # NOTE: This is a fallback for broken kubelet, if you observe this please report a bug.\n  echo -n \"Waiting for port 6443 to be released due to likely bug in kubelet or CRI-O \"\n  while [ -n \"$(ss -Htan state listening '( sport = 6443 or sport = 6080 )')\" ]; do\n    echo -n \".\"\n    sleep 1\n    (( tries += 1 ))\n    if [[ \"${tries}\" -gt 10 ]]; then\n      echo \"Timed out waiting for port :6443 and :6080 to be released, this is likely a bug in kubelet or CRI-O\"\n      exit 1\n    fi\n  done\n  #  This is to make sure the server has terminated independently from the lock.\n  #  After the port has been freed (requests can be pending and need 60s max).\n  sleep 65\n}\n# We cannot hold the lock from the init container to the main container. We release it here. There is no risk, at this point we know we are safe.\nflock -u \"${LOCK_FD}\"\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"kube-apiserver","image":"registry.build02.ci.openshift.org/ci-op-2fcpj5j6/stable@sha256:ec5ef6dda3c256bf641cce01c338f9e7ef0e2bf8821e90809d4e18fdc6759989","command":["/bin/bash","-ec"],"args":["LOCK=/var/log/kube-apiserver/.lock\n# We should be able to acquire the lock immediatelly. If not, it means the init container has not released it yet and kubelet or CRI-O started container prematurely.\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 30 \"${LOCK_FD}\" || {\n  echo \"Failed to acquire lock for kube-apiserver. Please check setup container for details. This is likely kubelet or CRI-O bug.\"\n  exit 1\n}\nif [ -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt ]; then\n  echo \"Copying system trust bundle ...\"\n  cp -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem\nfi\n\nexec watch-termination --termination-touch-file=/var/log/kube-apiserver/.terminating --termination-log-file=/var/log/kube-apiserver/termination.log --graceful-termination-duration=135s --kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig -- hyperkube kube-apiserver --openshift-config=/etc/kubernetes/static-pod-resources/configmaps/config/config.yaml --advertise-address=${HOST_IP}  -v=2 --permit-address-sharing\n"],"ports":[{"containerPort":6443}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}},{"name":"STATIC_POD_VERSION","value":"17"},{"name":"HOST_IP","valueFrom":{"fieldRef":{"fieldPath":"status.hostIP"}}},{"name":"GOGC","value":"100"}],"resources":{"requests":{"cpu":"265m","memory":"1Gi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"livenessProbe":{"httpGet":{"path":"livez?exclude=etcd","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"readyz","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"startupProbe":{"httpGet":{"path":"livez","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":30},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"kube-apiserver-cert-syncer","image":"registry.build02.ci.openshift.org/ci-op-2fcpj5j6/stable@sha256:adc55330a214af3a57e2fac059ed409c2a7b1dc54d829a3ad1f719ce6c15ffa0","command":["cluster-kube-apiserver-operator","cert-syncer"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","--destination-dir=/etc/kubernetes/static-pod-certs"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-cert-regeneration-controller","image":"registry.build02.ci.openshift.org/ci-op-2fcpj5j6/stable@sha256:adc55330a214af3a57e2fac059ed409c2a7b1dc54d829a3ad1f719ce6c15ffa0","command":["cluster-kube-apiserver-operator","cert-regeneration-controller"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","-v=2"],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-insecure-readyz","image":"registry.build02.ci.openshift.org/ci-op-2fcpj5j6/stable@sha256:adc55330a214af3a57e2fac059ed409c2a7b1dc54d829a3ad1f719ce6c15ffa0","command":["cluster-kube-apiserver-operator","insecure-readyz"],"args":["--insecure-port=6080","--delegate-url=https://localhost:6443/readyz"],"ports":[{"containerPort":6080}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-check-endpoints","image":"registry.build02.ci.openshift.org/ci-op-2fcpj5j6/stable@sha256:adc55330a214af3a57e2fac059ed409c2a7b1dc54d829a3ad1f719ce6c15ffa0","command":["cluster-kube-apiserver-operator","check-endpoints"],"args":["--kubeconfig","/etc/kubernetes/static-pod-certs/configmaps/check-endpoints-kubeconfig/kubeconfig","--listen","0.0.0.0:17697","--namespace","$(POD_NAMESPACE)","--v","2"],"ports":[{"name":"check-endpoints","hostPort":17697,"containerPort":17697,"protocol":"TCP"}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"livenessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"}],"terminationGracePeriodSeconds":135,"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
2024-10-24T14:34:56.550330962Z I1024 14:34:56.550236       1 cmd.go:606] Writing pod manifest "/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17/kube-apiserver-pod.yaml" ...
2024-10-24T14:34:56.551760243Z I1024 14:34:56.551703       1 cmd.go:613] Removed existing static pod manifest "/etc/kubernetes/manifests/kube-apiserver-pod.yaml" ...
2024-10-24T14:34:56.551953992Z I1024 14:34:56.551854       1 cmd.go:617] Writing static pod manifest "/etc/kubernetes/manifests/kube-apiserver-pod.yaml" ...
2024-10-24T14:34:56.551953992Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"kube-apiserver","namespace":"openshift-kube-apiserver","creationTimestamp":null,"labels":{"apiserver":"true","app":"openshift-kube-apiserver","revision":"17"},"annotations":{"kubectl.kubernetes.io/default-container":"kube-apiserver","target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-pod-17"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/kube-apiserver-certs"}},{"name":"audit-dir","hostPath":{"path":"/var/log/kube-apiserver"}}],"initContainers":[{"name":"setup","image":"registry.build02.ci.openshift.org/ci-op-2fcpj5j6/stable@sha256:ec5ef6dda3c256bf641cce01c338f9e7ef0e2bf8821e90809d4e18fdc6759989","command":["/usr/bin/timeout","220","/bin/bash","-ec"],"args":["echo \"Fixing audit permissions ...\"\nchmod 0700 /var/log/kube-apiserver \u0026\u0026 touch /var/log/kube-apiserver/audit.log \u0026\u0026 chmod 0600 /var/log/kube-apiserver/*\n\nLOCK=/var/log/kube-apiserver/.lock\necho \"Acquiring exclusive lock ${LOCK} ...\"\n\n# Waiting for 135s max for old kube-apiserver's watch-termination process to exit and remove the lock.\n# Two cases:\n# 1. if kubelet does not start the old and new in parallel (i.e. works as expected), the flock will always succeed without any time.\n# 2. if kubelet does overlap old and new pods for up to 130s, the flock will wait and immediate return when the old finishes.\n#\n# NOTE: We can increase 135s for a bigger expected overlap. But a higher value means less noise about the broken kubelet behaviour, i.e. we hide a bug.\n# NOTE: Do not tweak these timings without considering the livenessProbe initialDelaySeconds\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 135 \"${LOCK_FD}\" || {\n  echo \"$(date -Iseconds -u) kubelet did not terminate old kube-apiserver before new one\" \u003e\u003e /var/log/kube-apiserver/lock.log\n  echo -n \": WARNING: kubelet did not terminate old kube-apiserver before new one.\"\n\n  # We failed to acquire exclusive lock, which means there is old kube-apiserver running in system.\n  # Since we utilize SO_REUSEPORT, we need to make sure the old kube-apiserver stopped listening.\n  #\n  # NOTE: This is a fallback for broken kubelet, if you observe this please report a bug.\n  echo -n \"Waiting for port 6443 to be released due to likely bug in kubelet or CRI-O \"\n  while [ -n \"$(ss -Htan state listening '( sport = 6443 or sport = 6080 )')\" ]; do\n    echo -n \".\"\n    sleep 1\n    (( tries += 1 ))\n    if [[ \"${tries}\" -gt 10 ]]; then\n      echo \"Timed out waiting for port :6443 and :6080 to be released, this is likely a bug in kubelet or CRI-O\"\n      exit 1\n    fi\n  done\n  #  This is to make sure the server has terminated independently from the lock.\n  #  After the port has been freed (requests can be pending and need 60s max).\n  sleep 65\n}\n# We cannot hold the lock from the init container to the main container. We release it here. There is no risk, at this point we know we are safe.\nflock -u \"${LOCK_FD}\"\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"kube-apiserver","image":"registry.build02.ci.openshift.org/ci-op-2fcpj5j6/stable@sha256:ec5ef6dda3c256bf641cce01c338f9e7ef0e2bf8821e90809d4e18fdc6759989","command":["/bin/bash","-ec"],"args":["LOCK=/var/log/kube-apiserver/.lock\n# We should be able to acquire the lock immediatelly. If not, it means the init container has not released it yet and kubelet or CRI-O started container prematurely.\nexec {LOCK_FD}\u003e${LOCK} \u0026\u0026 flock --verbose -w 30 \"${LOCK_FD}\" || {\n  echo \"Failed to acquire lock for kube-apiserver. Please check setup container for details. This is likely kubelet or CRI-O bug.\"\n  exit 1\n}\nif [ -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt ]; then\n  echo \"Copying system trust bundle ...\"\n  cp -f /etc/kubernetes/static-pod-certs/configmaps/trusted-ca-bundle/ca-bundle.crt /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem\nfi\n\nexec watch-termination --termination-touch-file=/var/log/kube-apiserver/.terminating --termination-log-file=/var/log/kube-apiserver/termination.log --graceful-termination-duration=135s --kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig -- hyperkube kube-apiserver --openshift-config=/etc/kubernetes/static-pod-resources/configmaps/config/config.yaml --advertise-address=${HOST_IP}  -v=2 --permit-address-sharing\n"],"ports":[{"containerPort":6443}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}},{"name":"STATIC_POD_VERSION","value":"17"},{"name":"HOST_IP","valueFrom":{"fieldRef":{"fieldPath":"status.hostIP"}}},{"name":"GOGC","value":"100"}],"resources":{"requests":{"cpu":"265m","memory":"1Gi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"audit-dir","mountPath":"/var/log/kube-apiserver"}],"livenessProbe":{"httpGet":{"path":"livez?exclude=etcd","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"readyz","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"startupProbe":{"httpGet":{"path":"livez","port":6443,"scheme":"HTTPS"},"timeoutSeconds":10,"periodSeconds":5,"successThreshold":1,"failureThreshold":30},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"kube-apiserver-cert-syncer","image":"registry.build02.ci.openshift.org/ci-op-2fcpj5j6/stable@sha256:adc55330a214af3a57e2fac059ed409c2a7b1dc54d829a3ad1f719ce6c15ffa0","command":["cluster-kube-apiserver-operator","cert-syncer"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","--destination-dir=/etc/kubernetes/static-pod-certs"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-cert-regeneration-controller","image":"registry.build02.ci.openshift.org/ci-op-2fcpj5j6/stable@sha256:adc55330a214af3a57e2fac059ed409c2a7b1dc54d829a3ad1f719ce6c15ffa0","command":["cluster-kube-apiserver-operator","cert-regeneration-controller"],"args":["--kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-apiserver-cert-syncer-kubeconfig/kubeconfig","--namespace=$(POD_NAMESPACE)","-v=2"],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-insecure-readyz","image":"registry.build02.ci.openshift.org/ci-op-2fcpj5j6/stable@sha256:adc55330a214af3a57e2fac059ed409c2a7b1dc54d829a3ad1f719ce6c15ffa0","command":["cluster-kube-apiserver-operator","insecure-readyz"],"args":["--insecure-port=6080","--delegate-url=https://localhost:6443/readyz"],"ports":[{"containerPort":6080}],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"kube-apiserver-check-endpoints","image":"registry.build02.ci.openshift.org/ci-op-2fcpj5j6/stable@sha256:adc55330a214af3a57e2fac059ed409c2a7b1dc54d829a3ad1f719ce6c15ffa0","command":["cluster-kube-apiserver-operator","check-endpoints"],"args":["--kubeconfig","/etc/kubernetes/static-pod-certs/configmaps/check-endpoints-kubeconfig/kubeconfig","--listen","0.0.0.0:17697","--namespace","$(POD_NAMESPACE)","--v","2"],"ports":[{"name":"check-endpoints","hostPort":17697,"containerPort":17697,"protocol":"TCP"}],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}}],"resources":{"requests":{"cpu":"10m","memory":"50Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"livenessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"readinessProbe":{"httpGet":{"path":"healthz","port":17697,"scheme":"HTTPS"},"initialDelaySeconds":10,"timeoutSeconds":10},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"}],"terminationGracePeriodSeconds":135,"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
