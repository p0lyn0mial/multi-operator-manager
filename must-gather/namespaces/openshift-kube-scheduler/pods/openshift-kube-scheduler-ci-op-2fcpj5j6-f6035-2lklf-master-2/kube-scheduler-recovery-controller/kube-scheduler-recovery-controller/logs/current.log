2024-10-24T13:33:23.688174338Z + timeout 3m /bin/bash -exuo pipefail -c 'while [ -n "$(ss -Htanop \( sport = 11443 \))" ]; do sleep 1; done'
2024-10-24T13:33:23.692403037Z ++ ss -Htanop '(' sport = 11443 ')'
2024-10-24T13:33:23.703005877Z + '[' -n '' ']'
2024-10-24T13:33:23.703850477Z + exec cluster-kube-scheduler-operator cert-recovery-controller --kubeconfig=/etc/kubernetes/static-pod-resources/configmaps/kube-scheduler-cert-syncer-kubeconfig/kubeconfig --namespace=openshift-kube-scheduler --listen=0.0.0.0:11443 -v=2
2024-10-24T13:33:23.753538205Z W1024 13:33:23.753329       1 cmd.go:254] Using insecure, self-signed certificates
2024-10-24T13:33:23.753714575Z I1024 13:33:23.753694       1 crypto.go:601] Generating new CA for cert-recovery-controller-signer@1729776803 cert, and key in /tmp/serving-cert-1029474766/serving-signer.crt, /tmp/serving-cert-1029474766/serving-signer.key
2024-10-24T13:33:24.101304352Z I1024 13:33:24.101227       1 leaderelection.go:121] The leader election gives 4 retries and allows for 30s of clock skew. The kube-apiserver downtime tolerance is 78s. Worst non-graceful lease acquisition is 2m43s. Worst graceful lease acquisition is {26s}.
2024-10-24T13:33:24.102256772Z I1024 13:33:24.102183       1 observer_polling.go:159] Starting file observer
2024-10-24T13:33:24.102613942Z I1024 13:33:24.102585       1 envvar.go:172] "Feature gate default state" feature="WatchListClient" enabled=false
2024-10-24T13:33:24.102613942Z I1024 13:33:24.102606       1 envvar.go:172] "Feature gate default state" feature="InformerResourceVersion" enabled=false
2024-10-24T13:33:24.104436612Z W1024 13:33:24.104338       1 builder.go:266] unable to get owner reference (falling back to namespace): Get "https://localhost:6443/api/v1/namespaces/openshift-kube-scheduler/pods": dial tcp [::1]:6443: connect: connection refused
2024-10-24T13:33:24.104663472Z I1024 13:33:24.104641       1 builder.go:298] cert-recovery-controller version v0.0.0-master+$Format:%H$-$Format:%H$
2024-10-24T13:33:24.105894672Z W1024 13:33:24.105858       1 builder.go:357] unable to get control plane topology, using HA cluster values for leader election: Get "https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster": dial tcp [::1]:6443: connect: connection refused
2024-10-24T13:33:24.106275322Z I1024 13:33:24.106211       1 leaderelection.go:254] attempting to acquire leader lease openshift-kube-scheduler/cert-recovery-controller-lock...
2024-10-24T13:33:24.106340232Z I1024 13:33:24.106139       1 event.go:377] Event(v1.ObjectReference{Kind:"Namespace", Namespace:"openshift-kube-scheduler", Name:"openshift-kube-scheduler", UID:"", APIVersion:"v1", ResourceVersion:"", FieldPath:""}): type: 'Warning' reason: 'ControlPlaneTopology' unable to get control plane topology, using HA cluster values for leader election: Get "https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster": dial tcp [::1]:6443: connect: connection refused
2024-10-24T13:33:24.107496242Z E1024 13:33:24.107443       1 leaderelection.go:436] error retrieving resource lock openshift-kube-scheduler/cert-recovery-controller-lock: Get "https://localhost:6443/apis/coordination.k8s.io/v1/namespaces/openshift-kube-scheduler/leases/cert-recovery-controller-lock?timeout=1m47s": dial tcp [::1]:6443: connect: connection refused
2024-10-24T13:33:24.107761132Z E1024 13:33:24.107719       1 event.go:368] "Unable to write event (may retry after sleeping)" err="Post \"https://localhost:6443/api/v1/namespaces/openshift-kube-scheduler/events\": dial tcp [::1]:6443: connect: connection refused" event="&Event{ObjectMeta:{openshift-kube-scheduler.180166d6ad6fb8c6  openshift-kube-scheduler    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Namespace,Namespace:openshift-kube-scheduler,Name:openshift-kube-scheduler,UID:,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:ControlPlaneTopology,Message:unable to get control plane topology, using HA cluster values for leader election: Get \"https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster\": dial tcp [::1]:6443: connect: connection refused,Source:EventSource{Component:cert-recovery-controller,Host:,},FirstTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,LastTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,Count:1,Type:Warning,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:cert-recovery-controller,ReportingInstance:,}"
2024-10-24T13:33:24.576741244Z E1024 13:33:24.576658       1 event.go:368] "Unable to write event (may retry after sleeping)" err="Post \"https://localhost:6443/api/v1/namespaces/openshift-kube-scheduler/events\": dial tcp [::1]:6443: connect: connection refused" event="&Event{ObjectMeta:{openshift-kube-scheduler.180166d6ad6fb8c6  openshift-kube-scheduler    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Namespace,Namespace:openshift-kube-scheduler,Name:openshift-kube-scheduler,UID:,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:ControlPlaneTopology,Message:unable to get control plane topology, using HA cluster values for leader election: Get \"https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster\": dial tcp [::1]:6443: connect: connection refused,Source:EventSource{Component:cert-recovery-controller,Host:,},FirstTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,LastTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,Count:1,Type:Warning,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:cert-recovery-controller,ReportingInstance:,}"
2024-10-24T13:33:34.578390772Z E1024 13:33:34.578318       1 event.go:368] "Unable to write event (may retry after sleeping)" err="Post \"https://localhost:6443/api/v1/namespaces/openshift-kube-scheduler/events\": dial tcp [::1]:6443: connect: connection refused" event="&Event{ObjectMeta:{openshift-kube-scheduler.180166d6ad6fb8c6  openshift-kube-scheduler    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Namespace,Namespace:openshift-kube-scheduler,Name:openshift-kube-scheduler,UID:,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:ControlPlaneTopology,Message:unable to get control plane topology, using HA cluster values for leader election: Get \"https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster\": dial tcp [::1]:6443: connect: connection refused,Source:EventSource{Component:cert-recovery-controller,Host:,},FirstTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,LastTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,Count:1,Type:Warning,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:cert-recovery-controller,ReportingInstance:,}"
2024-10-24T13:33:44.580360910Z E1024 13:33:44.580284       1 event.go:368] "Unable to write event (may retry after sleeping)" err="Post \"https://localhost:6443/api/v1/namespaces/openshift-kube-scheduler/events\": dial tcp [::1]:6443: connect: connection refused" event="&Event{ObjectMeta:{openshift-kube-scheduler.180166d6ad6fb8c6  openshift-kube-scheduler    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Namespace,Namespace:openshift-kube-scheduler,Name:openshift-kube-scheduler,UID:,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:ControlPlaneTopology,Message:unable to get control plane topology, using HA cluster values for leader election: Get \"https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster\": dial tcp [::1]:6443: connect: connection refused,Source:EventSource{Component:cert-recovery-controller,Host:,},FirstTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,LastTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,Count:1,Type:Warning,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:cert-recovery-controller,ReportingInstance:,}"
2024-10-24T13:33:54.582445173Z E1024 13:33:54.582369       1 event.go:368] "Unable to write event (may retry after sleeping)" err="Post \"https://localhost:6443/api/v1/namespaces/openshift-kube-scheduler/events\": dial tcp [::1]:6443: connect: connection refused" event="&Event{ObjectMeta:{openshift-kube-scheduler.180166d6ad6fb8c6  openshift-kube-scheduler    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Namespace,Namespace:openshift-kube-scheduler,Name:openshift-kube-scheduler,UID:,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:ControlPlaneTopology,Message:unable to get control plane topology, using HA cluster values for leader election: Get \"https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster\": dial tcp [::1]:6443: connect: connection refused,Source:EventSource{Component:cert-recovery-controller,Host:,},FirstTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,LastTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,Count:1,Type:Warning,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:cert-recovery-controller,ReportingInstance:,}"
2024-10-24T13:34:04.584842682Z E1024 13:34:04.584710       1 event.go:368] "Unable to write event (may retry after sleeping)" err="Post \"https://localhost:6443/api/v1/namespaces/openshift-kube-scheduler/events\": dial tcp [::1]:6443: connect: connection refused" event="&Event{ObjectMeta:{openshift-kube-scheduler.180166d6ad6fb8c6  openshift-kube-scheduler    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Namespace,Namespace:openshift-kube-scheduler,Name:openshift-kube-scheduler,UID:,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:ControlPlaneTopology,Message:unable to get control plane topology, using HA cluster values for leader election: Get \"https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster\": dial tcp [::1]:6443: connect: connection refused,Source:EventSource{Component:cert-recovery-controller,Host:,},FirstTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,LastTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,Count:1,Type:Warning,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:cert-recovery-controller,ReportingInstance:,}"
2024-10-24T13:34:14.587063639Z E1024 13:34:14.586977       1 event.go:368] "Unable to write event (may retry after sleeping)" err="Post \"https://localhost:6443/api/v1/namespaces/openshift-kube-scheduler/events\": dial tcp [::1]:6443: connect: connection refused" event="&Event{ObjectMeta:{openshift-kube-scheduler.180166d6ad6fb8c6  openshift-kube-scheduler    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Namespace,Namespace:openshift-kube-scheduler,Name:openshift-kube-scheduler,UID:,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:ControlPlaneTopology,Message:unable to get control plane topology, using HA cluster values for leader election: Get \"https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster\": dial tcp [::1]:6443: connect: connection refused,Source:EventSource{Component:cert-recovery-controller,Host:,},FirstTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,LastTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,Count:1,Type:Warning,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:cert-recovery-controller,ReportingInstance:,}"
2024-10-24T13:34:18.415364340Z E1024 13:34:18.415252       1 leaderelection.go:436] error retrieving resource lock openshift-kube-scheduler/cert-recovery-controller-lock: Get "https://localhost:6443/apis/coordination.k8s.io/v1/namespaces/openshift-kube-scheduler/leases/cert-recovery-controller-lock?timeout=1m47s": dial tcp [::1]:6443: connect: connection refused
2024-10-24T13:34:24.589573195Z E1024 13:34:24.589473       1 event.go:368] "Unable to write event (may retry after sleeping)" err="Post \"https://localhost:6443/api/v1/namespaces/openshift-kube-scheduler/events\": dial tcp [::1]:6443: connect: connection refused" event="&Event{ObjectMeta:{openshift-kube-scheduler.180166d6ad6fb8c6  openshift-kube-scheduler    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Namespace,Namespace:openshift-kube-scheduler,Name:openshift-kube-scheduler,UID:,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:ControlPlaneTopology,Message:unable to get control plane topology, using HA cluster values for leader election: Get \"https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster\": dial tcp [::1]:6443: connect: connection refused,Source:EventSource{Component:cert-recovery-controller,Host:,},FirstTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,LastTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,Count:1,Type:Warning,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:cert-recovery-controller,ReportingInstance:,}"
2024-10-24T13:34:34.591450461Z E1024 13:34:34.591324       1 event.go:368] "Unable to write event (may retry after sleeping)" err="Post \"https://localhost:6443/api/v1/namespaces/openshift-kube-scheduler/events\": dial tcp [::1]:6443: connect: connection refused" event="&Event{ObjectMeta:{openshift-kube-scheduler.180166d6ad6fb8c6  openshift-kube-scheduler    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Namespace,Namespace:openshift-kube-scheduler,Name:openshift-kube-scheduler,UID:,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:ControlPlaneTopology,Message:unable to get control plane topology, using HA cluster values for leader election: Get \"https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster\": dial tcp [::1]:6443: connect: connection refused,Source:EventSource{Component:cert-recovery-controller,Host:,},FirstTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,LastTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,Count:1,Type:Warning,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:cert-recovery-controller,ReportingInstance:,}"
2024-10-24T13:34:44.593654468Z E1024 13:34:44.593546       1 event.go:368] "Unable to write event (may retry after sleeping)" err="Post \"https://localhost:6443/api/v1/namespaces/openshift-kube-scheduler/events\": dial tcp [::1]:6443: connect: connection refused" event="&Event{ObjectMeta:{openshift-kube-scheduler.180166d6ad6fb8c6  openshift-kube-scheduler    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Namespace,Namespace:openshift-kube-scheduler,Name:openshift-kube-scheduler,UID:,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:ControlPlaneTopology,Message:unable to get control plane topology, using HA cluster values for leader election: Get \"https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster\": dial tcp [::1]:6443: connect: connection refused,Source:EventSource{Component:cert-recovery-controller,Host:,},FirstTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,LastTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,Count:1,Type:Warning,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:cert-recovery-controller,ReportingInstance:,}"
2024-10-24T13:34:54.596136975Z E1024 13:34:54.596059       1 event.go:368] "Unable to write event (may retry after sleeping)" err="Post \"https://localhost:6443/api/v1/namespaces/openshift-kube-scheduler/events\": dial tcp [::1]:6443: connect: connection refused" event="&Event{ObjectMeta:{openshift-kube-scheduler.180166d6ad6fb8c6  openshift-kube-scheduler    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Namespace,Namespace:openshift-kube-scheduler,Name:openshift-kube-scheduler,UID:,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:ControlPlaneTopology,Message:unable to get control plane topology, using HA cluster values for leader election: Get \"https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster\": dial tcp [::1]:6443: connect: connection refused,Source:EventSource{Component:cert-recovery-controller,Host:,},FirstTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,LastTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,Count:1,Type:Warning,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:cert-recovery-controller,ReportingInstance:,}"
2024-10-24T13:34:55.819076870Z E1024 13:34:55.818984       1 leaderelection.go:436] error retrieving resource lock openshift-kube-scheduler/cert-recovery-controller-lock: Get "https://localhost:6443/apis/coordination.k8s.io/v1/namespaces/openshift-kube-scheduler/leases/cert-recovery-controller-lock?timeout=1m47s": dial tcp [::1]:6443: connect: connection refused
2024-10-24T13:35:04.598627002Z E1024 13:35:04.598554       1 event.go:368] "Unable to write event (may retry after sleeping)" err="Post \"https://localhost:6443/api/v1/namespaces/openshift-kube-scheduler/events\": dial tcp [::1]:6443: connect: connection refused" event="&Event{ObjectMeta:{openshift-kube-scheduler.180166d6ad6fb8c6  openshift-kube-scheduler    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Namespace,Namespace:openshift-kube-scheduler,Name:openshift-kube-scheduler,UID:,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:ControlPlaneTopology,Message:unable to get control plane topology, using HA cluster values for leader election: Get \"https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster\": dial tcp [::1]:6443: connect: connection refused,Source:EventSource{Component:cert-recovery-controller,Host:,},FirstTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,LastTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,Count:1,Type:Warning,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:cert-recovery-controller,ReportingInstance:,}"
2024-10-24T13:35:04.598627002Z E1024 13:35:04.598612       1 event.go:307] "Unable to write event (retry limit exceeded!)" event="&Event{ObjectMeta:{openshift-kube-scheduler.180166d6ad6fb8c6  openshift-kube-scheduler    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},InvolvedObject:ObjectReference{Kind:Namespace,Namespace:openshift-kube-scheduler,Name:openshift-kube-scheduler,UID:,APIVersion:v1,ResourceVersion:,FieldPath:,},Reason:ControlPlaneTopology,Message:unable to get control plane topology, using HA cluster values for leader election: Get \"https://localhost:6443/apis/config.openshift.io/v1/infrastructures/cluster\": dial tcp [::1]:6443: connect: connection refused,Source:EventSource{Component:cert-recovery-controller,Host:,},FirstTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,LastTimestamp:2024-10-24 13:33:24.105795782 +0000 UTC m=+0.397846236,Count:1,Type:Warning,EventTime:0001-01-01 00:00:00 +0000 UTC,Series:nil,Action:,Related:nil,ReportingController:cert-recovery-controller,ReportingInstance:,}"
2024-10-24T13:35:47.390403931Z E1024 13:35:47.390277       1 leaderelection.go:436] error retrieving resource lock openshift-kube-scheduler/cert-recovery-controller-lock: Get "https://localhost:6443/apis/coordination.k8s.io/v1/namespaces/openshift-kube-scheduler/leases/cert-recovery-controller-lock?timeout=1m47s": dial tcp [::1]:6443: connect: connection refused
2024-10-24T14:36:21.910384584Z E1024 14:36:21.910262       1 leaderelection.go:436] error retrieving resource lock openshift-kube-scheduler/cert-recovery-controller-lock: Get "https://localhost:6443/apis/coordination.k8s.io/v1/namespaces/openshift-kube-scheduler/leases/cert-recovery-controller-lock?timeout=1m47s": dial tcp [::1]:6443: connect: connection refused
